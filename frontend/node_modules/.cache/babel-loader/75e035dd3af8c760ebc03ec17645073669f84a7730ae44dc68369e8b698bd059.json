{"ast":null,"code":"var _jsxFileName = \"/Users/isaackelsallnew/Documents/GitHub/FSD-A2/frontend/src/pages/Products.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useEffect, useState } from 'react';\nimport { CartContext } from '../context/CartContext';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Products = () => {\n  _s();\n  const {\n    cart,\n    fetchCart,\n    addToCart,\n    increaseQuantity,\n    decreaseQuantity\n  } = useContext(CartContext);\n  const [products, setProducts] = useState([]);\n\n  // Fetch products from the backend API\n  useEffect(() => {\n    axios.get('http://localhost:4000/api/product').then(response => {\n      setProducts(response.data);\n    }).catch(error => {\n      console.error('Error fetching products:', error);\n    });\n  }, []);\n\n  // Get the quantity of a product in the cart\n  const getProductQuantity = productId => {\n    let quantity = 0;\n    if (cart && cart.cartLines) {\n      cart.cartLines.forEach(cartLine => {\n        if (cartLine.productId === productId) {\n          quantity = cartLine.quantity;\n        }\n      });\n    }\n    return quantity;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"fs-4 text-center mt-2 mb-3\",\n      children: \"Our Products\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"specials-grid mx-5\",\n      children: products.map(product => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"specials-item mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: `/products/${product.productId}`,\n          className: \"product-link\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: product.imgUrl,\n            alt: product.productName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"specials-text\",\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: `/products/${product.productId}`,\n            className: \"product-link\",\n            children: /*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"fs-6 mb-1\",\n              children: product.productName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"fs-6 mb-1\",\n            style: {\n              fontWeight: 'lighter',\n              marginBottom: '0'\n            },\n            children: product.special ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"card-text\",\n                children: [/*#__PURE__*/_jsxDEV(\"s\", {\n                  children: [\"$\", product.price]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 52,\n                  columnNumber: 46\n                }, this), \" $\", product.specialPrice]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 52,\n                columnNumber: 21\n              }, this)\n            }, void 0, false) : /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"card-text\",\n              children: [\"$\", product.price]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 15\n          }, this), getProductQuantity(product.productId) === 0 ? /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn custom-button mt-1\",\n            onClick: () => addToCart(product.productId, 1),\n            children: \"Add to Cart\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn custom-button mt-1\",\n              onClick: () => decreaseQuantity(product.productId),\n              children: \"-\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"mx-2 mt-1\",\n              children: getProductQuantity(product.productId)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn custom-button mt-1\",\n              onClick: () => increaseQuantity(product.productId),\n              children: \"+\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 13\n        }, this)]\n      }, product.productId, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), products.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No products available.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 33\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n};\n_s(Products, \"VpN4LRzdYyceM37W2oNfvMgvw8Y=\");\n_c = Products;\nexport default Products;\nvar _c;\n$RefreshReg$(_c, \"Products\");","map":{"version":3,"names":["React","useContext","useEffect","useState","CartContext","axios","Link","jsxDEV","_jsxDEV","Fragment","_Fragment","Products","_s","cart","fetchCart","addToCart","increaseQuantity","decreaseQuantity","products","setProducts","get","then","response","data","catch","error","console","getProductQuantity","productId","quantity","cartLines","forEach","cartLine","children","className","fileName","_jsxFileName","lineNumber","columnNumber","map","product","to","src","imgUrl","alt","productName","style","fontWeight","marginBottom","special","price","specialPrice","onClick","length","_c","$RefreshReg$"],"sources":["/Users/isaackelsallnew/Documents/GitHub/FSD-A2/frontend/src/pages/Products.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport { CartContext } from '../context/CartContext';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\n\nconst Products = () => {\n  const { cart, fetchCart, addToCart, increaseQuantity, decreaseQuantity } = useContext(CartContext);\n  const [products, setProducts] = useState([]);\n  \n  // Fetch products from the backend API\n  useEffect(() => {\n    axios.get('http://localhost:4000/api/product')\n      .then(response => {\n        setProducts(response.data);\n      })\n      .catch(error => {\n        console.error('Error fetching products:', error);\n      });\n  }, []);\n\n  // Get the quantity of a product in the cart\n  const getProductQuantity = (productId) => {\n    let quantity = 0;\n  \n    if (cart && cart.cartLines) {\n      cart.cartLines.forEach((cartLine) => {\n        if (cartLine.productId === productId) {\n          quantity = cartLine.quantity;\n        }\n      });\n    }\n  \n    return quantity;\n  };\n\n  return (\n    <div>\n      <h1 className=\"fs-4 text-center mt-2 mb-3\">Our Products</h1>\n      <div className=\"specials-grid mx-5\">\n        {products.map((product) => (\n          <div key={product.productId} className=\"specials-item mb-3\">\n            <Link to={`/products/${product.productId}`} className=\"product-link\">\n              <img src={product.imgUrl} alt={product.productName} />\n            </Link>\n            <div className=\"specials-text\">\n              <Link to={`/products/${product.productId}`} className=\"product-link\">\n                <h2 className=\"fs-6 mb-1\">{product.productName}</h2>\n              </Link>\n              <p className=\"fs-6 mb-1\" style={{ fontWeight: 'lighter', marginBottom: '0' }}>\n                {product.special ? (\n                  <>\n                    <p className=\"card-text\"><s>${product.price}</s> ${product.specialPrice}</p>\n                  </>\n                ) : (\n                  <p className=\"card-text\">${product.price}</p>\n                )}\n              </p>\n              {getProductQuantity(product.productId) === 0 ? (\n                <button\n                  className=\"btn custom-button mt-1\"\n                  onClick={() => addToCart(product.productId, 1)}\n                >\n                  Add to Cart\n                </button>\n              ) : (\n                <>\n                  <button\n                    className=\"btn custom-button mt-1\"\n                    onClick={() => decreaseQuantity(product.productId)}\n                  >\n                    -\n                  </button>\n                  <span className='mx-2 mt-1'>{getProductQuantity(product.productId)}</span>\n                  <button\n                    className=\"btn custom-button mt-1\"\n                    onClick={() => increaseQuantity(product.productId)}\n                  >\n                    +\n                  </button>\n                </>\n              )}\n            </div>\n          </div>\n        ))}\n      </div>\n      {products.length === 0 && <p>No products available.</p>}\n    </div>\n  );\n};\n\nexport default Products;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\Business\\\\Wabi\\\\FSD-A2\\\\frontend\\\\src\\\\pages\\\\Products.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { CartContext } from \"../context/CartContext\";\nimport { UserContext } from \"../context/UserContext\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Products = () => {\n  _s();\n  const {\n    cart,\n    fetchCart,\n    addToCart,\n    increaseQuantity,\n    decreaseQuantity\n  } = useContext(CartContext);\n  const [products, setProducts] = useState([]);\n  const {\n    user\n  } = useContext(UserContext);\n\n  // Fetch products from the backend API\n  useEffect(() => {\n    axios.get(\"http://localhost:4000/api/product\").then(response => {\n      setProducts(response.data);\n    }).catch(error => {\n      console.error(\"Error fetching products:\", error);\n    });\n  }, []);\n\n  // Get the quantity of a product in the cart\n  const getProductQuantity = productId => {\n    let quantity = 0;\n    if (cart && cart.cartLines) {\n      cart.cartLines.forEach(cartLine => {\n        if (cartLine.productId === productId) {\n          quantity = cartLine.quantity;\n        }\n      });\n    }\n    return quantity;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"fs-4 text-center mt-2 mb-3\",\n      children: \"Our Products\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"specials-grid mx-5\",\n      children: products.map(product => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"specials-item mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: `/products/${product.productId}`,\n          className: \"product-link\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: product.imgUrl,\n            alt: product.productName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"specials-text\",\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: `/products/${product.productId}`,\n            className: \"product-link\",\n            children: /*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"fs-6 mb-1\",\n              children: product.productName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"fs-6 mb-1\",\n            style: {\n              fontWeight: \"lighter\",\n              marginBottom: \"0\"\n            },\n            children: product.special ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"card-text\",\n                children: [/*#__PURE__*/_jsxDEV(\"s\", {\n                  children: [\"$\", product.price]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 71,\n                  columnNumber: 23\n                }, this), \" $\", product.specialPrice]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 21\n              }, this)\n            }, void 0, false) : /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"card-text\",\n              children: [\"$\", product.price]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 15\n          }, this), getProductQuantity(product.productId) === 0 ? /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn custom-button mt-1\",\n            onClick: () => {\n              if (user) {\n                addToCart(product.productId, 1);\n              } else {\n                alert(\"Please log in to add items to the cart.\");\n              }\n            },\n            children: \"Add to Cart\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 17\n          }, this) :\n          /*#__PURE__*/\n          // Display the quantity of the product in the cart\n          _jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn custom-button mt-1\",\n              onClick: () => decreaseQuantity(product.productId),\n              children: \"-\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"mx-2 mt-1\",\n              children: getProductQuantity(product.productId)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn custom-button mt-1\",\n              onClick: () => increaseQuantity(product.productId),\n              children: \"+\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }, this)]\n      }, product.productId, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), products.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading products..\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 33\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n};\n_s(Products, \"fFEkjXHltf4BCL4BZCVm+mr34PU=\");\n_c = Products;\nexport default Products;\nvar _c;\n$RefreshReg$(_c, \"Products\");","map":{"version":3,"names":["React","useContext","useEffect","useState","CartContext","UserContext","axios","Link","jsxDEV","_jsxDEV","Fragment","_Fragment","Products","_s","cart","fetchCart","addToCart","increaseQuantity","decreaseQuantity","products","setProducts","user","get","then","response","data","catch","error","console","getProductQuantity","productId","quantity","cartLines","forEach","cartLine","children","className","fileName","_jsxFileName","lineNumber","columnNumber","map","product","to","src","imgUrl","alt","productName","style","fontWeight","marginBottom","special","price","specialPrice","onClick","alert","length","_c","$RefreshReg$"],"sources":["C:/xampp/htdocs/Business/Wabi/FSD-A2/frontend/src/pages/Products.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\r\nimport { CartContext } from \"../context/CartContext\";\r\nimport { UserContext } from \"../context/UserContext\";\r\nimport axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Products = () => {\r\n  const { cart, fetchCart, addToCart, increaseQuantity, decreaseQuantity } =\r\n    useContext(CartContext);\r\n  const [products, setProducts] = useState([]);\r\n  const { user } = useContext(UserContext);\r\n\r\n  // Fetch products from the backend API\r\n  useEffect(() => {\r\n    axios\r\n      .get(\"http://localhost:4000/api/product\")\r\n      .then((response) => {\r\n        setProducts(response.data);\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error fetching products:\", error);\r\n      });\r\n  }, []);\r\n\r\n  // Get the quantity of a product in the cart\r\n  const getProductQuantity = (productId) => {\r\n    let quantity = 0;\r\n\r\n    if (cart && cart.cartLines) {\r\n      cart.cartLines.forEach((cartLine) => {\r\n        if (cartLine.productId === productId) {\r\n          quantity = cartLine.quantity;\r\n        }\r\n      });\r\n    }\r\n\r\n    return quantity;\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {/* Display the products */}\r\n      <h1 className=\"fs-4 text-center mt-2 mb-3\">Our Products</h1>\r\n      <div className=\"specials-grid mx-5\">\r\n        {/* Map through the products and display them */}\r\n        {products.map((product) => (\r\n          <div key={product.productId} className=\"specials-item mb-3\">\r\n            {/* Link to the product details page */}\r\n            <Link\r\n              to={`/products/${product.productId}`}\r\n              className=\"product-link\"\r\n            >\r\n              <img src={product.imgUrl} alt={product.productName} />\r\n            </Link>\r\n            {/* Display the product details */}\r\n            <div className=\"specials-text\">\r\n              <Link\r\n                to={`/products/${product.productId}`}\r\n                className=\"product-link\"\r\n              >\r\n                <h2 className=\"fs-6 mb-1\">{product.productName}</h2>\r\n              </Link>\r\n              {/* Display the product price */}\r\n              <div\r\n                className=\"fs-6 mb-1\"\r\n                style={{ fontWeight: \"lighter\", marginBottom: \"0\" }}\r\n              >\r\n                {product.special ? (\r\n                  <>\r\n                    <p className=\"card-text\">\r\n                      <s>${product.price}</s> ${product.specialPrice}\r\n                    </p>\r\n                  </>\r\n                ) : (\r\n                  <p className=\"card-text\">${product.price}</p>\r\n                )}\r\n              </div>\r\n              {/* Add to cart button */}\r\n              {getProductQuantity(product.productId) === 0 ? (\r\n                <button\r\n                  className=\"btn custom-button mt-1\"\r\n                  onClick={() => {\r\n                    if (user) {\r\n                      addToCart(product.productId, 1);\r\n                    } else {\r\n                      alert(\"Please log in to add items to the cart.\");\r\n                    }\r\n                  }}\r\n                >\r\n                  Add to Cart\r\n                </button>\r\n              ) : (\r\n                // Display the quantity of the product in the cart\r\n                <>\r\n                  <button\r\n                    className=\"btn custom-button mt-1\"\r\n                    onClick={() => decreaseQuantity(product.productId)}\r\n                  >\r\n                    -\r\n                  </button>\r\n                  <span className=\"mx-2 mt-1\">\r\n                    {getProductQuantity(product.productId)}\r\n                  </span>\r\n                  {/* Increase the quantity of the product in the cart */}\r\n                  <button\r\n                    className=\"btn custom-button mt-1\"\r\n                    onClick={() => increaseQuantity(product.productId)}\r\n                  >\r\n                    +\r\n                  </button>\r\n                </>\r\n              )}\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      {/* Display a message if there are no products */}\r\n      {products.length === 0 && <p>Loading products..</p>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Products;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,UAAU,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC9D,SAASC,WAAW,QAAQ,wBAAwB;AACpD,SAASC,WAAW,QAAQ,wBAAwB;AACpD,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,IAAI,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAExC,MAAMC,QAAQ,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACrB,MAAM;IAAEC,IAAI;IAAEC,SAAS;IAAEC,SAAS;IAAEC,gBAAgB;IAAEC;EAAiB,CAAC,GACtEjB,UAAU,CAACG,WAAW,CAAC;EACzB,MAAM,CAACe,QAAQ,EAAEC,WAAW,CAAC,GAAGjB,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM;IAAEkB;EAAK,CAAC,GAAGpB,UAAU,CAACI,WAAW,CAAC;;EAExC;EACAH,SAAS,CAAC,MAAM;IACdI,KAAK,CACFgB,GAAG,CAAC,mCAAmC,CAAC,CACxCC,IAAI,CAAEC,QAAQ,IAAK;MAClBJ,WAAW,CAACI,QAAQ,CAACC,IAAI,CAAC;IAC5B,CAAC,CAAC,CACDC,KAAK,CAAEC,KAAK,IAAK;MAChBC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;IAClD,CAAC,CAAC;EACN,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,MAAME,kBAAkB,GAAIC,SAAS,IAAK;IACxC,IAAIC,QAAQ,GAAG,CAAC;IAEhB,IAAIjB,IAAI,IAAIA,IAAI,CAACkB,SAAS,EAAE;MAC1BlB,IAAI,CAACkB,SAAS,CAACC,OAAO,CAAEC,QAAQ,IAAK;QACnC,IAAIA,QAAQ,CAACJ,SAAS,KAAKA,SAAS,EAAE;UACpCC,QAAQ,GAAGG,QAAQ,CAACH,QAAQ;QAC9B;MACF,CAAC,CAAC;IACJ;IAEA,OAAOA,QAAQ;EACjB,CAAC;EAED,oBACEtB,OAAA;IAAA0B,QAAA,gBAEE1B,OAAA;MAAI2B,SAAS,EAAC,4BAA4B;MAAAD,QAAA,EAAC;IAAY;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAC5D/B,OAAA;MAAK2B,SAAS,EAAC,oBAAoB;MAAAD,QAAA,EAEhChB,QAAQ,CAACsB,GAAG,CAAEC,OAAO,iBACpBjC,OAAA;QAA6B2B,SAAS,EAAC,oBAAoB;QAAAD,QAAA,gBAEzD1B,OAAA,CAACF,IAAI;UACHoC,EAAE,EAAG,aAAYD,OAAO,CAACZ,SAAU,EAAE;UACrCM,SAAS,EAAC,cAAc;UAAAD,QAAA,eAExB1B,OAAA;YAAKmC,GAAG,EAAEF,OAAO,CAACG,MAAO;YAACC,GAAG,EAAEJ,OAAO,CAACK;UAAY;YAAAV,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAClD,CAAC,eAEP/B,OAAA;UAAK2B,SAAS,EAAC,eAAe;UAAAD,QAAA,gBAC5B1B,OAAA,CAACF,IAAI;YACHoC,EAAE,EAAG,aAAYD,OAAO,CAACZ,SAAU,EAAE;YACrCM,SAAS,EAAC,cAAc;YAAAD,QAAA,eAExB1B,OAAA;cAAI2B,SAAS,EAAC,WAAW;cAAAD,QAAA,EAAEO,OAAO,CAACK;YAAW;cAAAV,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAChD,CAAC,eAEP/B,OAAA;YACE2B,SAAS,EAAC,WAAW;YACrBY,KAAK,EAAE;cAAEC,UAAU,EAAE,SAAS;cAAEC,YAAY,EAAE;YAAI,CAAE;YAAAf,QAAA,EAEnDO,OAAO,CAACS,OAAO,gBACd1C,OAAA,CAAAE,SAAA;cAAAwB,QAAA,eACE1B,OAAA;gBAAG2B,SAAS,EAAC,WAAW;gBAAAD,QAAA,gBACtB1B,OAAA;kBAAA0B,QAAA,GAAG,GAAC,EAACO,OAAO,CAACU,KAAK;gBAAA;kBAAAf,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,MAAE,EAACE,OAAO,CAACW,YAAY;cAAA;gBAAAhB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC7C;YAAC,gBACJ,CAAC,gBAEH/B,OAAA;cAAG2B,SAAS,EAAC,WAAW;cAAAD,QAAA,GAAC,GAAC,EAACO,OAAO,CAACU,KAAK;YAAA;cAAAf,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI;UAC7C;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC,EAELX,kBAAkB,CAACa,OAAO,CAACZ,SAAS,CAAC,KAAK,CAAC,gBAC1CrB,OAAA;YACE2B,SAAS,EAAC,wBAAwB;YAClCkB,OAAO,EAAEA,CAAA,KAAM;cACb,IAAIjC,IAAI,EAAE;gBACRL,SAAS,CAAC0B,OAAO,CAACZ,SAAS,EAAE,CAAC,CAAC;cACjC,CAAC,MAAM;gBACLyB,KAAK,CAAC,yCAAyC,CAAC;cAClD;YACF,CAAE;YAAApB,QAAA,EACH;UAED;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;UAAA;UAET;UACA/B,OAAA,CAAAE,SAAA;YAAAwB,QAAA,gBACE1B,OAAA;cACE2B,SAAS,EAAC,wBAAwB;cAClCkB,OAAO,EAAEA,CAAA,KAAMpC,gBAAgB,CAACwB,OAAO,CAACZ,SAAS,CAAE;cAAAK,QAAA,EACpD;YAED;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACT/B,OAAA;cAAM2B,SAAS,EAAC,WAAW;cAAAD,QAAA,EACxBN,kBAAkB,CAACa,OAAO,CAACZ,SAAS;YAAC;cAAAO,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAClC,CAAC,eAEP/B,OAAA;cACE2B,SAAS,EAAC,wBAAwB;cAClCkB,OAAO,EAAEA,CAAA,KAAMrC,gBAAgB,CAACyB,OAAO,CAACZ,SAAS,CAAE;cAAAK,QAAA,EACpD;YAED;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA,eACT,CACH;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CAAC;MAAA,GAlEEE,OAAO,CAACZ,SAAS;QAAAO,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAmEtB,CACN;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC,EAELrB,QAAQ,CAACqC,MAAM,KAAK,CAAC,iBAAI/C,OAAA;MAAA0B,QAAA,EAAG;IAAkB;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAChD,CAAC;AAEV,CAAC;AAAC3B,EAAA,CAlHID,QAAQ;AAAA6C,EAAA,GAAR7C,QAAQ;AAoHd,eAAeA,QAAQ;AAAC,IAAA6C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}